(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-inside-machine-editWork"],{"09c9":function(t,e,i){"use strict";var n=i("b288"),a=i.n(n);a.a},1432:function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("showToast",{ref:"toast"}),i("v-uni-view",{staticClass:"work-item-box1"},[i("v-uni-view",{staticClass:"item-icon"},[i("v-uni-view")],1),i("v-uni-view",[i("v-uni-view",{staticClass:"title2"},[t._v(t._s(t.editMsg.projectName||t.projectName))]),i("v-uni-view",{staticClass:"title3"},[t._v("申请人: "+t._s(t.editMsg.nickName||"-")+"("+t._s(t.editMsg.phonenumber)+")")])],1)],1),i("v-uni-view",{staticClass:"item-box2"},[i("v-uni-view",{staticClass:"item-line"},[i("v-uni-view",{staticClass:"title1"},[t._v("机械类型"),i("span",[t._v("*")])]),i("v-uni-picker",{attrs:{mode:"selector",range:t.machineTypes,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeMachineType.apply(void 0,arguments)}}},[i("v-uni-view",[t._v(t._s(t.machineTypes[t.machineTypesIndex].name)+" >")])],1)],1),i("v-uni-view",{staticClass:"item-line no-border"},[i("v-uni-view",{staticClass:"title1"},[t._v("机械型号"),i("span",[t._v("*")])]),i("v-uni-input",{staticClass:"my-input",attrs:{placeholder:"请输入型号",type:"text",value:t.editMsg.machineModel},model:{value:t.editMsg.machineModel,callback:function(e){t.$set(t.editMsg,"machineModel",e)},expression:"editMsg.machineModel"}})],1)],1),i("v-uni-view",{staticClass:"item-box2"},[i("v-uni-view",{staticClass:"item-line"},[i("v-uni-view",{staticClass:"title1"},[t._v("开工日期")]),i("v-uni-picker",{attrs:{mode:"date",value:t.startDate},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStartDate.apply(void 0,arguments)}}},[i("v-uni-view",[t._v(t._s(t.startDate))])],1)],1),i("v-uni-view",{staticClass:"item-line"},[i("v-uni-view",{staticClass:"title1"},[t._v("开工时间")]),i("v-uni-picker",{attrs:{mode:"time",value:"startTime"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStartTime.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-btn"},[t._v(t._s(t.startTime))])],1)],1),i("v-uni-view",{staticClass:"item-line"},[i("v-uni-view",{staticClass:"title1"},[t._v("是否完工")]),i("v-uni-view",{staticClass:"as-checkbox",class:t.isChecked?"checked":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.isFinished.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"item-line no-border"},[i("v-uni-view",{staticClass:"title1"},[t._v("完工时间")]),i("v-uni-picker",{attrs:{mode:"time",value:"endTime"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeEndTime.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"picker-btn"},[t._v(t._s(t.endTime))])],1)],1)],1),i("v-uni-view",{staticClass:"item-box2"},[i("v-uni-view",{staticClass:"item-line"},[i("v-uni-view",{staticClass:"title1"},[t._v("工时(小时)"),i("span",[t._v("*")])]),i("v-uni-input",{staticClass:"my-input",attrs:{maxlength:"5",placeholder:"请输入",type:"number",value:t.editMsg.hours},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.hoursInput.apply(void 0,arguments)}},model:{value:t.editMsg.hours,callback:function(e){t.$set(t.editMsg,"hours",e)},expression:"editMsg.hours"}})],1),i("v-uni-view",{staticClass:"item-line"},[i("v-uni-view",{staticClass:"title1"},[t._v("车数")]),i("v-uni-input",{staticClass:"my-input",attrs:{maxlength:"5",placeholder:"请输入",type:"number",value:t.editMsg.number},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.numberInput.apply(void 0,arguments)}},model:{value:t.editMsg.number,callback:function(e){t.$set(t.editMsg,"number",e)},expression:"editMsg.number"}})],1),i("v-uni-view",{staticClass:"item-line"},[i("v-uni-view",{staticClass:"title1"},[t._v("单价"),i("span",[t._v("*")])]),i("v-uni-input",{staticClass:"my-input",attrs:{maxlength:"16",placeholder:"请输入",type:"number",value:t.editMsg.price},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.priceInput.apply(void 0,arguments)}},model:{value:t.editMsg.price,callback:function(e){t.$set(t.editMsg,"price",e)},expression:"editMsg.price"}})],1),i("v-uni-view",{staticClass:"item-line no-border"},[i("v-uni-view",{staticClass:"title1"},[t._v("总价")]),i("v-uni-input",{staticClass:"my-input",attrs:{maxlength:"16",placeholder:"请输入",type:"number",value:t.editMsg.total},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.totalInput.apply(void 0,arguments)},focus:function(e){arguments[0]=e=t.$handleEvent(e),t.totalFocus.apply(void 0,arguments)}},model:{value:t.editMsg.total,callback:function(e){t.$set(t.editMsg,"total",e)},expression:"editMsg.total"}})],1)],1),i("v-uni-view",{staticClass:"item-box3"},[i("v-uni-view",{staticClass:"title1"},[t._v("备注信息")]),i("v-uni-view",{staticClass:"textarea-box"},[i("v-uni-textarea",{staticClass:"remark",attrs:{value:t.editMsg.remark,placeholder:""},model:{value:t.editMsg.remark,callback:function(e){t.$set(t.editMsg,"remark",e)},expression:"editMsg.remark"}})],1)],1),i("v-uni-view",{staticClass:"btn-box"},[i("v-uni-view",{staticClass:"submit-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("保存")])],1)],1)},s=[]},4120:function(t,e,i){var n=i("24fb"),a=i("1de5"),s=i("4cf6"),o=i("eab5");e=n(!1);var c=a(s),d=a(o);e.push([t.i,".content[data-v-586dc6c9]{-webkit-box-sizing:border-box;box-sizing:border-box;padding:%?180?% %?20?% %?150?%;height:100%;overflow-y:auto}.work-item-box1[data-v-586dc6c9]{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;top:0;left:0;width:100%;height:%?150?%;padding:%?20?%;\n\t/* margin: -20rpx -20rpx 20rpx; */background:#fff;font-size:%?28?%;color:#7f7f7f;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;align-items:center;z-index:100}.item-icon[data-v-586dc6c9]{width:%?60?%;height:%?60?%;border-radius:50%;border:%?1?% solid #ddd;background:#e3ecfd;margin-right:%?10?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.item-icon uni-view[data-v-586dc6c9]{width:%?40?%;height:%?40?%;background:url("+c+") no-repeat 50%;background-size:%?40?% %?40?%}.picker-btn[data-v-586dc6c9]{min-width:%?120?%;text-align:right}.no-border[data-v-586dc6c9]{border-bottom:none}.my-input[data-v-586dc6c9]{text-align:right;font-size:%?28?%}.title1[data-v-586dc6c9]{font-size:%?32?%;color:#333;font-weight:700}.title2[data-v-586dc6c9]{font-size:%?32?%;font-weight:700;color:#333;padding-bottom:%?10?%}.title3[data-v-586dc6c9]{font-size:%?28?%;font-family:PingFang SC;font-weight:500;color:#999}.as-checkbox[data-v-586dc6c9]{width:%?40?%;height:%?40?%;border:%?1?% solid #333}.checked[data-v-586dc6c9]{background:url("+d+") no-repeat 50%;background-size:contain}[data-v-586dc6c9] .uni-date-x{padding-right:0}[data-v-586dc6c9] .uni-date__input{text-align:right}[data-v-586dc6c9] uni-image>div,\nuni-image>img[data-v-586dc6c9]{display:none}",""]),t.exports=e},"4cf6":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABQElEQVRoQ+1Yuw3CMBB9TAECd6xATZUaKpglI3gWqKB2Rc0MVAHBFKBICClFcr5cAgZe6vu9e+/s+Ab48m/w5fWDAD7NIBkgA8YO/I+EsrzYAZgBGNc07QLgGLxbGpuqco9iIMuLuyZq8C4qriZmna2YKMuLDYCVMtk2eLdW+rQyjwFwBTBURj8F76ZKn1bmMQBU8mlVRdVJNUspAnjBiZmlpAEAEGcpdQC34N2oSZapA4Ako98H0MGp0msIkYFes3cQXASg/Y3ooKZKCM4AGTBqihKihCih5tcd7wGjQkR3nkI8hUSRNBtQQpRQAhI6N+xDjeWJ7pfg3cT6qC+XugsxVT8Ge2lZLN7EZV2fmgPpBCpriwLwBFEueect9qRabm4ADrHL4WgA2ireZU8A7+p0XR4yQAaMHaCEjA00uz8AepeEMcIpsQAAAAAASUVORK5CYII="},6126:function(t,e,i){"use strict";i("fb6a"),i("d3b7"),i("e25e"),i("4d63"),i("ac1f"),i("25f0"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={dateFormat:function(t,e){t=t||new Date,t=new Date(t);var i,n=e||"{y}-{m}-{d}";"object"===typeof t?i=t:("string"===typeof t&&/^[0-9]+$/.test(t)?t=parseInt(t):"string"===typeof t&&(t=t.replace(new RegExp(/-/gm),"/")),"number"===typeof t&&10===t.toString().length&&(t*=1e3),i=new Date(t));var a={y:i.getFullYear(),m:i.getMonth()+1,d:i.getDate(),h:i.getHours(),i:i.getMinutes(),s:i.getSeconds()},s=n.replace(/{(y|m|d|h|i|s)+}/g,(function(t,e){var i=a[e];return t.length>0&&i<10&&(i="0"+i),i||0}));return s},desensitize:function(t,e,i){for(var n=t.slice(0,e),a=t.slice(i+1),s=i-e,o="",c=0;c<=s;c++)o+="*";return n+o+a}},a=n;e.default=a},b288:function(t,e,i){var n=i("4120");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("013ff765",n,!0,{sourceMap:!1,shadowMode:!1})},bad8:function(t,e,i){"use strict";var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("5530")),s=i("2f62"),o=(n(i("e143")),n(i("6902"))),c=n(i("18e7")),d=n(i("6126")),l=n(i("8538")),u={data:function(){return{title:"Hello",editMsg:{},projectName:"",startDate:"",startTime:"00:00",endTime:"00:00",dutyIndex:1,machineTypes:[{type:"0",name:"挖掘机"},{type:"1",name:"推土机"}],finishDate:"",isChecked:0,machineTypesIndex:0,remark:""}},components:{showToast:o.default},computed:(0,a.default)({},(0,s.mapState)(["projectMsg","dutyTypes"])),onLoad:function(t){this.editMsg=JSON.parse(t.editMsg),this.isChecked=this.editMsg.status,this.projectName=this.projectMsg.projectName,console.log(this.editMsg),this.editMsg.hours=this.editMsg.hours||"",this.startDate=this.editMsg.startDate||d.default.dateFormat(),this.startTime=this.editMsg.startTime||"00:00",this.endTime=this.editMsg.completeTime||"00:00",this.machineTypesIndex=this.editMsg.machineType},methods:{changeStartDate:function(t){this.startDate=t.detail.value},changeStartTime:function(t){this.startTime=t.detail.value},changeEndTime:function(t){this.endTime=t.detail.value},finishDateChange:function(t){this.finishDate=t},isFinished:function(){this.isChecked=this.isChecked?0:1},hoursInput:function(t){var e=this,i=t.detail.value;i=l.default.numberFilter(i),setTimeout((function(){e.editMsg.hours=i}),0)},numberInput:function(t){var e=this,i=t.detail.value;setTimeout((function(){e.editMsg.number=l.default.numberFilter(i)}),0)},priceInput:function(t){var e=this,i=t.detail.value;setTimeout((function(){e.editMsg.price=l.default.priceFilter(i)}),0)},priceFocus:function(){},totalInput:function(t){var e=this,i=t.detail.value;setTimeout((function(){e.editMsg.total=l.default.priceFilter(i)}),0)},totalFocus:function(){},submit:function(){var t=this;if(console.log(this.editMsg),""!==this.editMsg.machineModel)if(""!==this.editMsg.hours)if(""!==this.editMsg.price){var e={startDate:this.startDate,startTime:this.startTime,hours:this.editMsg.hours,machineType:this.machineTypes[this.machineTypesIndex].type,remark:this.editMsg.remark,price:this.editMsg.price,completeTime:this.endTime,number:this.editMsg.number,total:this.editMsg.total,id:this.editMsg.id,status:this.isChecked,machineModel:this.editMsg.machineModel};console.log(e),c.default.updateMachineWorking({},e,(function(e){if(console.log("编辑工时: ",e),200===e.data.code){t.$refs.toast.show({type:"success",content:"保存成功"});setTimeout((function(){uni.navigateBack({delta:1})}),500)}}))}else uni.showToast({title:"请填写单价",icon:"none",duration:1500});else uni.showToast({title:"请填写工时",icon:"none",duration:1500});else uni.showToast({title:"请填写机械型号",icon:"none",duration:1500})},changeDuty:function(t){console.log(t.detail),this.dutyIndex=t.detail.value},changeMachineType:function(t){console.log(t.detail),this.machineTypesIndex=t.detail.value}}};e.default=u},dbbe:function(t,e,i){"use strict";i.r(e);var n=i("1432"),a=i("dc4a");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("09c9");var o,c=i("f0c5"),d=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,"586dc6c9",null,!1,n["a"],o);e["default"]=d.exports},dc4a:function(t,e,i){"use strict";i.r(e);var n=i("bad8"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a}}]);